/*
 * echo.c
 *
 *  Created on: Nov 9, 2023
 *      Author: Marisa
 */

#include "UART.h"
#include "printf.h"
void USART2_IRQHandler(void){
	NVIC_EnableIRQ(USART_ISR_RXNE);
	char ch = 0;
	if(USART_ISR_RXNE){
		ch = (char)USART_Read_Nonblocking(USART2);
		if(ch != '\0'){
			printf("%c",ch);
		}
	}
//	uint32_t status = USART(USART2);
//	   if (status & USART->CSR.RXNE) {
//	       uint32_t received_byte;
//	       usart_read(USART_SERIAL, &received_byte);
//	       usart_write(USART_SERIAL, received_byte);
//	   }
}
